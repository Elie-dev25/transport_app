@startuml Use_Cases_Transport_UDM
skinparam defaultFontName Arial
skinparam shadowing false
skinparam dpi 160
left to right direction

' ======================================================
' ACTEURS
' ======================================================
actor Utilisateur as U
actor "Administrateur" as ADM
actor "Responsable" as RESP
actor "Superviseur" as SUP
actor "Charge Transport" as CT
actor "Chauffeur" as CH
actor "Mécanicien" as MEC
actor "Prestataire" as PR [#gray]

rectangle "Système Transport UdM" {
  ' Authentification & Accès
  usecase "Se connecter" as UC_Login
  usecase "Se déconnecter" as UC_Logout
  usecase "Gérer mon profil" as UC_Profile

  ' Administration utilisateurs
  usecase "Gérer utilisateurs" as UC_GestUsers
  usecase "Créer utilisateur" as UC_CreateUser
  usecase "Modifier utilisateur" as UC_EditUser
  usecase "Désactiver utilisateur" as UC_DisableUser

  ' Parc véhicules
  usecase "Gérer véhicules" as UC_GestBus
  usecase "Créer véhicule" as UC_CreateBus
  usecase "Modifier véhicule" as UC_EditBus
  usecase "Supprimer véhicule" as UC_DeleteBus
  usecase "Gérer documents véhicule" as UC_GestDocs
  usecase "Enregistrer document véhicule" as UC_AddDoc
  usecase "Suivre niveau carburant / alertes" as UC_FuelAlert

  ' Opérations
  usecase "Enregistrer carburation" as UC_Carbu
  usecase "Calculer coût total" as UC_CalcCost
  usecase "Enregistrer vidange" as UC_Vidange
  usecase "Signaler panne" as UC_Panne
  usecase "Planifier / Enregistrer dépannage" as UC_Depannage

  ' Trajets
  usecase "Planifier trajet" as UC_PlanTrajet
  usecase "Affecter chauffeur" as UC_AssignCh
  usecase "Affecter bus" as UC_AssignBus
  usecase "Associer prestataire" as UC_AssocPrest
  usecase "Enregistrer départ/arrivée" as UC_DepArr

  ' RH Chauffeurs
  usecase "Définir statut chauffeur" as UC_StatutCh
  usecase "Planifier affectation chauffeur" as UC_Affectation

  ' Suivi / Rapports
  usecase "Saisir présence campus" as UC_Presence
  usecase "Consulter tableaux de bord" as UC_Dashboard
  usecase "Générer rapports" as UC_Rapports
  usecase "Exporter PDF/CSV" as UC_Export

  ' Notifications & Logs
  usecase "Recevoir notification" as UC_Notify
  usecase "Consulter historique connexions" as UC_Logins
}

' ======================================================
' RELATIONS ACTEURS -> UC
' ======================================================
U --> UC_Login
U --> UC_Logout
U --> UC_Profile

ADM --> UC_GestUsers
ADM --> UC_GestBus
ADM --> UC_GestDocs
ADM --> UC_Rapports
ADM --> UC_Dashboard
ADM --> UC_Logins

RESP --> UC_Rapports
RESP --> UC_Dashboard
RESP --> UC_Affectation

SUP --> UC_Dashboard
SUP --> UC_Rapports

CT --> UC_PlanTrajet
CT --> UC_DepArr
CT --> UC_AssignCh
CT --> UC_AssignBus
CT --> UC_AssocPrest
CT --> UC_Presence

CH --> UC_StatutCh
CH --> UC_DepArr

MEC --> UC_Vidange
MEC --> UC_Panne
MEC --> UC_Depannage
MEC --> UC_Carbu

PR --> UC_AssocPrest

' ======================================================
' INCLUDE / EXTEND
' ======================================================
UC_GestUsers --> (UC_CreateUser) : <<include>>
UC_GestUsers --> (UC_EditUser) : <<include>>
UC_GestUsers --> (UC_DisableUser) : <<include>>

UC_GestBus --> (UC_CreateBus) : <<include>>
UC_GestBus --> (UC_EditBus) : <<include>>
UC_GestBus --> (UC_DeleteBus) : <<include>>
UC_GestDocs --> (UC_AddDoc) : <<include>>

UC_Carbu --> (UC_CalcCost) : <<include>>
UC_PlanTrajet --> (UC_AssignCh) : <<include>>
UC_PlanTrajet --> (UC_AssignBus) : <<include>>
UC_PlanTrajet --> (UC_AssocPrest) : <<include>>

UC_Rapports --> (UC_Export) : <<include>>

' Extensions (cas alternatifs / optionnels)
(UC_FuelAlert) ..> UC_Carbu : <<extend>>
(UC_Depannage) ..> UC_Panne : <<extend>>
(UC_DepArr) ..> UC_PlanTrajet : <<extend>>
(UC_Logins) ..> UC_Login : <<extend>>

' ======================================================
' NOTES D'EXCLUSION (hors-périmètre / non-fonctionnel)
' ======================================================
note right of UC_Profile
Exclusions: gestion avancée des préférences,
avatar, MFA (à implémenter ultérieurement)
end note

note right of UC_Rapports
Exclusions: planification automatique,
BI avancée, ETL externe
end note

note right of UC_FuelAlert
Exclusions: intégration capteurs IoT temps réel;
actuellement basé sur données de carburation
end note

@enduml
